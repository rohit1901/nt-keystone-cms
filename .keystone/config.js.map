{
  "version": 3,
  "sources": ["../keystone.ts", "../schema.ts", "../auth.ts"],
  "sourcesContent": ["// Welcome to Keystone!\n//\n// This file is what Keystone uses as the entry-point to your headless backend\n//\n// Keystone imports the default export of this file, expecting a Keystone configuration object\n//   you can find out more at https://keystonejs.com/docs/apis/config\n\nimport { config } from '@keystone-6/core'\n\n// to keep this file tidy, we define our schema in a different file\nimport { lists } from './schema'\n\n// authentication is configured separately here too, but you might move this elsewhere\n// when you write your list-level access control functions, as they typically rely on session data\nimport { withAuth, session } from './auth'\n\nexport default withAuth(\n  config({\n    db: {\n      // we're using sqlite for the fastest startup experience\n      //   for more information on what database might be appropriate for you\n      //   see https://keystonejs.com/docs/guides/choosing-a-database#title\n      provider: 'sqlite',\n      url: 'file:./keystone.db',\n    },\n    lists,\n    session,\n  })\n)\n", "import { list } from \"@keystone-6/core\";\nimport { allowAll } from \"@keystone-6/core/access\";\nimport {\n  text,\n  relationship,\n  select,\n  integer,\n  checkbox,\n  json,\n  password,\n  timestamp,\n} from \"@keystone-6/core/fields\";\n\n// --- 1. Reusable Field Groups (Type definitions) ---\n\n// Maps to your 'CTA' type\n// We flatten this for better Admin UI (easier than managing relations for simple links)\nconst ctaFields = {\n  ctaLabel: text({ validation: { isRequired: true } }),\n  ctaHref: text({ validation: { isRequired: true } }),\n  ctaExternal: checkbox({ label: \"Open in new tab?\" }),\n};\n\n// Maps to your 'PageContent' type\nconst pageContentFields = {\n  title: text({ validation: { isRequired: true } }),\n  description: text({ ui: { displayMode: \"textarea\" } }),\n  image: text({ label: \"Image URL\" }), // Or use an 'image' field if using local/S3 storage\n  imageAlt: text(),\n  // We embed CTA fields directly to mimic \"cta?: CTA\"\n  ...ctaFields,\n};\n\n// Maps to 'Language' options\nconst languageOptions = [\n  { label: \"English\", value: \"en-US\" },\n  { label: \"German\", value: \"de-DE\" },\n];\n\n// --- 2. Concrete Lists ---\n\nexport const lists = {\n  // --- REQUIRED: The User List for Authentication ---\n  User: list({\n    access: allowAll,\n    fields: {\n      name: text({ validation: { isRequired: true } }),\n      email: text({\n        validation: { isRequired: true },\n        isIndexed: \"unique\",\n      }),\n      password: password({ validation: { isRequired: true } }),\n      createdAt: timestamp({\n        defaultValue: { kind: \"now\" },\n      }),\n    },\n  }),\n  // --- Content Blocks ---\n\n  Certification: list({\n    access: allowAll,\n    fields: {\n      title: text({ validation: { isRequired: true } }),\n      description: text({ ui: { displayMode: \"textarea\" } }),\n      image: text({ label: \"Image URL\" }),\n      link: text(),\n      width: integer(),\n      height: integer(),\n    },\n  }),\n\n  Benefit: list({\n    access: allowAll,\n    fields: {\n      icon: text({ label: \"RemixIcon Name\" }), // e.g., \"RiCloudLine\"\n      title: text({ validation: { isRequired: true } }),\n      description: text({ ui: { displayMode: \"textarea\" } }),\n    },\n  }),\n\n  Testimonial: list({\n    access: allowAll,\n    fields: {\n      name: text({ validation: { isRequired: true } }),\n      role: text(),\n      company: text(),\n      content: text({ ui: { displayMode: \"textarea\" } }),\n      rating: integer({ validation: { min: 1, max: 5 } }),\n      imageUrl: text(),\n      // Badge is a nested small object; JSON is often simplest for this UI fluff\n      badge: json({\n        label: \"Badge Config\",\n        defaultValue: { icon: \"\", label: \"\" },\n      }),\n    },\n  }),\n\n  FaqItem: list({\n    access: allowAll,\n    fields: {\n      question: text({ validation: { isRequired: true } }),\n      answer: text({ ui: { displayMode: \"textarea\" } }),\n    },\n  }),\n\n  // --- Complex Page Sections ---\n\n  // Maps to 'HeroType'\n  Hero: list({\n    access: allowAll,\n    fields: {\n      subHeading: text(),\n      // Hero has the CTA fields merged in your type\n      ...ctaFields,\n      // The 'banner' prop is deeply nested ({ icon, additional: { icon, text } })\n      // A JSON field is best here to preserve strict structure without creating 3 separate lists\n      bannerConfig: json({\n        label: \"Banner Configuration\",\n        defaultValue: {\n          icon: \"RiFlagLine\",\n          additional: { icon: \"RiStarLine\", text: \"New Feature\" },\n        },\n      }),\n    },\n  }),\n\n  // Maps to 'NavigationSectionItem' & 'FooterSection'\n  // We create a list for the Items, and the Section will relate to them\n  NavigationItem: list({\n    access: allowAll,\n    fields: {\n      icon: text({ label: \"RemixIcon Name\" }),\n      // Extends CTA\n      ...ctaFields,\n      // Relationship back to section (optional, or defined on the Section side)\n      section: relationship({ ref: \"FooterSection.items\", many: false }),\n    },\n  }),\n\n  FooterSection: list({\n    access: allowAll,\n    fields: {\n      title: text({ validation: { isRequired: true } }),\n      items: relationship({ ref: \"NavigationItem.section\", many: true }),\n    },\n  }),\n\n  // --- Process / Approach ---\n\n  ApproachStep: list({\n    access: allowAll,\n    fields: {\n      title: text({ validation: { isRequired: true } }),\n      description: text({ ui: { displayMode: \"textarea\" } }),\n      activityTime: text(),\n      type: select({\n        options: [\n          { label: \"Done\", value: \"done\" },\n          { label: \"In Progress\", value: \"in progress\" },\n          { label: \"Open\", value: \"open\" },\n        ],\n      }),\n      // Sorting/Ordering index is usually helpful here\n      stepOrder: integer(),\n    },\n  }),\n\n  // --- Analytics Data (Singleton-like structure) ---\n\n  AnalyticsReport: list({\n    access: allowAll,\n    ui: {\n      labelField: \"heading\",\n    },\n    fields: {\n      heading: text(),\n      subheading: text(),\n      // 'stats' is a fixed object structure (AnalyticsStats)\n      stats: json({\n        label: \"Top Level Stats\",\n        defaultValue: {\n          totalDeployments: \"0\",\n          deploymentChange: \"+0\",\n          deploymentChangePercent: \"0%\",\n          changePeriod: \"Last 30 days\",\n        },\n      }),\n      // 'tableHeadings' is a string array\n      tableHeadings: json({ defaultValue: [] }),\n      // 'summary' is the list of rows\n      summaryItems: relationship({ ref: \"AnalyticsSummaryItem\", many: true }),\n    },\n  }),\n\n  AnalyticsSummaryItem: list({\n    access: allowAll,\n    fields: {\n      name: text(),\n      deployments: text(), // Keeping as text per your type (\"string\"), change to integer if needed\n      uptime: text(),\n      clientSatisfaction: text(),\n      efficiency: text(),\n      revenueGrowth: text(),\n      bgColor: text({ label: \"Background Hex Color\" }),\n      changeType: select({\n        options: [\n          { label: \"Positive\", value: \"positive\" },\n          { label: \"Negative\", value: \"negative\" },\n        ],\n      }),\n    },\n  }),\n\n  // --- Example Composite Implementation ---\n\n  // Maps to 'PageContentWithSubHeading'\n  StandardPage: list({\n    access: allowAll,\n    fields: {\n      // 1. Base PageContent\n      ...pageContentFields,\n      // 2. The Composite extension\n      subheading: text(),\n      // 3. Relationships to other sections (Implementing your generic maps)\n      benefits: relationship({ ref: \"Benefit\", many: true }),\n      faqs: relationship({ ref: \"FaqItem\", many: true }),\n    },\n  }),\n};\n", "// Welcome to some authentication for Keystone\n//\n// This is using @keystone-6/auth to add the following\n// - A sign-in page for your Admin UI\n// - A cookie-based stateless session strategy\n//    - Using a User email as the identifier\n//    - 30 day cookie expiration\n//\n// This file does not configure what Users can do, and the default for this starter\n// project is to allow anyone - logged-in or not - to do anything.\n//\n// If you want to prevent random people on the internet from accessing your data,\n// you can find out how by reading https://keystonejs.com/docs/guides/auth-and-access-control\n//\n// If you want to learn more about how our out-of-the-box authentication works, please\n// read https://keystonejs.com/docs/apis/auth#authentication-api\n\nimport { randomBytes } from 'node:crypto'\nimport { createAuth } from '@keystone-6/auth'\n\n// see https://keystonejs.com/docs/apis/session for the session docs\nimport { statelessSessions } from '@keystone-6/core/session'\n\n// withAuth is a function we can use to wrap our base configuration\nconst { withAuth } = createAuth({\n  listKey: 'User',\n  identityField: 'email',\n\n  // this is a GraphQL query fragment for fetching what data will be attached to a context.session\n  //   this can be helpful for when you are writing your access control functions\n  //   you can find out more at https://keystonejs.com/docs/guides/auth-and-access-control\n  sessionData: 'name createdAt',\n  secretField: 'password',\n\n  // WARNING: remove initFirstItem functionality in production\n  //   see https://keystonejs.com/docs/config/auth#init-first-item for more\n  initFirstItem: {\n    // if there are no items in the database, by configuring this field\n    //   you are asking the Keystone AdminUI to create a new user\n    //   providing inputs for these fields\n    fields: ['name', 'email', 'password'],\n\n    // it uses context.sudo() to do this, which bypasses any access control you might have\n    //   you shouldn't use this in production\n  },\n})\n\n// statelessSessions uses cookies for session tracking\n//   these cookies have an expiry, in seconds\n//   we use an expiry of 30 days for this starter\nconst sessionMaxAge = 60 * 60 * 24 * 30\n\n// you can find out more at https://keystonejs.com/docs/apis/session#session-api\nconst session = statelessSessions({\n  maxAge: sessionMaxAge,\n  secret: process.env.SESSION_SECRET,\n})\n\nexport { withAuth, session }\n"],
  "mappings": "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",
  "names": ["import_core"]
}
